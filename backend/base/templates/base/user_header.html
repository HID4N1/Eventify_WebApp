{% load static %}

<header class="app-header">
    <div class="logo">
        <img src="#" alt="">
    </div>
    
    <div class="header-controls">
        <div class="mail-icon" id="mail-icon">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
                <span class="mail-badge">#</span>
            
            <div id="message-list" class="message-list">
                    <!-- <ul>
                            <li>
                                {{ message }}
                            </li>
                    </ul> -->
            </div>
        </div>
        
        <div class="user-profile">
            <span class="user-name">{{ user.last_name }} {{ user.first_name }}</span>
            <a href="{% url 'profile' %}">
                <img src="{% if user.profile_picture %}{{ user.profile_picture.url }}{% else %}https://randomuser.me/api/portraits/men/32.jpg{% endif %}" 
                     alt="User" class="user-avatar">
            </a>
        </div>
    </div>
</header>

<link rel="stylesheet" href="{% static 'base/css/user_header.css' %}">

<!-- <script>
document.addEventListener('DOMContentLoaded', function() {
    const mailIcon = document.getElementById('mail-icon');
    const messageList = document.getElementById('message-list');
    
    // Toggle message list visibility
    mailIcon.addEventListener('click', function(event) {
        event.stopPropagation();
        messageList.classList.toggle('visible');
    });
    
    // Close when clicking outside
    document.addEventListener('click', function() {
        messageList.classList.remove('visible');
    });
    
    // Prevent closing when clicking inside
    messageList.addEventListener('click', function(event) {
        event.stopPropagation();
    });
    
    // Close on Escape key
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            messageList.classList.remove('visible');
        }
    });
});
</script> -->
<!-- </create_file> -->
